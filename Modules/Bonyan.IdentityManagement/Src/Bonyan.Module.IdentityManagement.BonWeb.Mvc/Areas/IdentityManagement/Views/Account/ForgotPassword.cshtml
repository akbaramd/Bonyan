@model Bonyan.IdentityManagement.BonWeb.Mvc.Models.Account.ForgotPasswordInputModel
@inject Microsoft.Extensions.Localization.IStringLocalizer<Bonyan.IdentityManagement.BonWeb.Mvc.IdentityManagementResource> L
@inject Microsoft.Extensions.Localization.IStringLocalizer<Bonyan.Ui.BonWeb.Mvc.BonWebMenuResource> MenuL
@{
    ViewData["Title"] = L["Account:ForgotPasswordTitle"];
}

<div class="card shadow-sm border-0">
    <div class="card-body p-4 p-md-5">
        <div class="fw-semibold mb-3">@MenuL["Layout:BonWeb"]</div>
        <h1 class="h4 mb-1">@L["Account:ForgotPasswordTitle"]</h1>
        <p class="text-body-secondary mb-4">@L["Account:ForgotPasswordInfo"]</p>

        <form asp-area="IdentityManagement" asp-controller="Account" asp-action="ForgotPassword" method="post" class="needs-validation" novalidate>
            <div asp-validation-summary="ModelOnly" class="alert alert-danger py-2" role="alert"></div>
            <div class="mb-3">
                <label class="form-label" asp-for="UserNameOrEmail">@L["Account:UserNameOrEmail"]</label>
                <input asp-for="UserNameOrEmail" type="text" class="form-control" autocomplete="username" />
                <span asp-validation-for="UserNameOrEmail" class="invalid-feedback"></span>
            </div>

            <button class="btn btn-primary w-100" type="submit">@L["Account:SendResetLink"]</button>

            <p class="text-body-secondary small mt-3 mb-0">@L["Account:ForgotPasswordConfirmationInfo"]</p>

            <div class="mt-3">
                <a class="link-secondary small" asp-area="IdentityManagement" asp-controller="Account" asp-action="Login">@L["Account:BackToLogin"]</a>
            </div>
        </form>
    </div>
</div>

<p class="text-center text-body-secondary small mt-3 mb-0">@L["Account:ForgotPasswordCheckSpam"]</p>

@section Scripts {
    <script>
        (function () {
            var form = document.querySelector('.needs-validation');
            if (form) {
                form.addEventListener('submit', function (e) {
                    if (!form.checkValidity()) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                    form.classList.add('was-validated');
                });
            }
        })();
    </script>
}
