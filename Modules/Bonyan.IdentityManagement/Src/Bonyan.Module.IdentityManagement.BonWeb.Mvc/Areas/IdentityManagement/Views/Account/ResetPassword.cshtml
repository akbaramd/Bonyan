@model Bonyan.IdentityManagement.BonWeb.Mvc.Models.Account.ResetPasswordInputModel
@inject Microsoft.Extensions.Localization.IStringLocalizer<Bonyan.IdentityManagement.BonWeb.Mvc.IdentityManagementResource> L
@inject Microsoft.Extensions.Localization.IStringLocalizer<Bonyan.Ui.BonWeb.Mvc.BonWebMenuResource> MenuL
@{
    ViewData["Title"] = L["Account:ResetPassword"];
}

<div class="card shadow-sm border-0">
    <div class="card-body p-4 p-md-5">
        <div class="fw-semibold mb-3">@MenuL["Layout:BonWeb"]</div>
        <h1 class="h4 mb-1">@L["Account:ResetPassword"]</h1>
        <p class="text-body-secondary mb-4">@L["Account:ResetPasswordSubtitle"]</p>

        <form asp-area="IdentityManagement" asp-controller="Account" asp-action="ResetPassword" method="post" class="needs-validation" novalidate>
            <input asp-for="Token" type="hidden" />
            <div asp-validation-summary="ModelOnly" class="alert alert-danger py-2" role="alert"></div>

            <div class="mb-3">
                <label class="form-label" asp-for="NewPassword">@L["Account:NewPassword"]</label>
                <input asp-for="NewPassword" type="password" class="form-control" autocomplete="new-password" id="newPassword" />
                <span asp-validation-for="NewPassword" class="invalid-feedback"></span>
            </div>
            <div class="mb-3">
                <label class="form-label" asp-for="ConfirmPassword">@L["Account:ConfirmPassword"]</label>
                <input asp-for="ConfirmPassword" type="password" class="form-control" autocomplete="new-password" />
                <span asp-validation-for="ConfirmPassword" class="invalid-feedback"></span>
            </div>

            <button class="btn btn-primary w-100" type="submit">@L["Account:ResetPassword"]</button>

            <div class="mt-3">
                <a class="link-secondary small" asp-area="IdentityManagement" asp-controller="Account" asp-action="Login">@L["Account:BackToLogin"]</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        (function () {
            var form = document.querySelector('.needs-validation');
            if (form) {
                form.addEventListener('submit', function (e) {
                    if (!form.checkValidity()) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                    form.classList.add('was-validated');
                });
            }
        })();
    </script>
}
